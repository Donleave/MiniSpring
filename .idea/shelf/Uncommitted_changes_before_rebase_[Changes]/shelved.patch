Index: .idea/workspace.xml
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+><?xml version=\"1.0\" encoding=\"UTF-8\"?>\r\n<project version=\"4\">\r\n  <component name=\"AutoImportSettings\">\r\n    <option name=\"autoReloadType\" value=\"SELECTIVE\" />\r\n  </component>\r\n  <component name=\"ChangeListManager\">\r\n    <list default=\"true\" id=\"c167be1e-4aae-48b9-8eb6-885c9947af95\" name=\"Changes\" comment=\"实现最简单的IOC容器\">\r\n      <change afterPath=\"$PROJECT_DIR$/src/main/java/org/springframework/beans/factory/ObjectFactory.java\" afterDir=\"false\" />\r\n      <change afterPath=\"$PROJECT_DIR$/src/test/java/org/springframework/test/common/ABeforeAdvice.java\" afterDir=\"false\" />\r\n      <change afterPath=\"$PROJECT_DIR$/src/test/java/org/springframework/test/ioc/CircularReferenceWithProxyBeanTest.java\" afterDir=\"false\" />\r\n      <change afterPath=\"$PROJECT_DIR$/src/test/resources/circular-reference-with-proxy-bean.xml\" afterDir=\"false\" />\r\n      <change beforePath=\"$PROJECT_DIR$/.idea/workspace.xml\" beforeDir=\"false\" afterPath=\"$PROJECT_DIR$/.idea/workspace.xml\" afterDir=\"false\" />\r\n      <change beforePath=\"$PROJECT_DIR$/src/main/java/org/springframework/aop/framework/autoproxy/DefaultAdvisorAutoProxyCreator.java\" beforeDir=\"false\" afterPath=\"$PROJECT_DIR$/src/main/java/org/springframework/aop/framework/autoproxy/DefaultAdvisorAutoProxyCreator.java\" afterDir=\"false\" />\r\n      <change beforePath=\"$PROJECT_DIR$/src/main/java/org/springframework/beans/factory/config/InstantiationAwareBeanPostProcessor.java\" beforeDir=\"false\" afterPath=\"$PROJECT_DIR$/src/main/java/org/springframework/beans/factory/config/InstantiationAwareBeanPostProcessor.java\" afterDir=\"false\" />\r\n      <change beforePath=\"$PROJECT_DIR$/src/main/java/org/springframework/beans/factory/support/AbstractAutowireCapableBeanFactory.java\" beforeDir=\"false\" afterPath=\"$PROJECT_DIR$/src/main/java/org/springframework/beans/factory/support/AbstractAutowireCapableBeanFactory.java\" afterDir=\"false\" />\r\n      <change beforePath=\"$PROJECT_DIR$/src/main/java/org/springframework/beans/factory/support/DefaultListableBeanFactory.java\" beforeDir=\"false\" afterPath=\"$PROJECT_DIR$/src/main/java/org/springframework/beans/factory/support/DefaultListableBeanFactory.java\" afterDir=\"false\" />\r\n      <change beforePath=\"$PROJECT_DIR$/src/main/java/org/springframework/beans/factory/support/DefaultSingletonBeanRegistry.java\" beforeDir=\"false\" afterPath=\"$PROJECT_DIR$/src/main/java/org/springframework/beans/factory/support/DefaultSingletonBeanRegistry.java\" afterDir=\"false\" />\r\n      <change beforePath=\"$PROJECT_DIR$/src/test/java/org/springframework/test/ioc/InitAndDestoryMethodTest.java\" beforeDir=\"false\" afterPath=\"$PROJECT_DIR$/src/test/java/org/springframework/test/ioc/InitAndDestoryMethodTest.java\" afterDir=\"false\" />\r\n      <change beforePath=\"$PROJECT_DIR$/target/classes/org/springframework/aop/framework/autoproxy/DefaultAdvisorAutoProxyCreator.class\" beforeDir=\"false\" afterPath=\"$PROJECT_DIR$/target/classes/org/springframework/aop/framework/autoproxy/DefaultAdvisorAutoProxyCreator.class\" afterDir=\"false\" />\r\n      <change beforePath=\"$PROJECT_DIR$/target/classes/org/springframework/beans/factory/config/InstantiationAwareBeanPostProcessor.class\" beforeDir=\"false\" afterPath=\"$PROJECT_DIR$/target/classes/org/springframework/beans/factory/config/InstantiationAwareBeanPostProcessor.class\" afterDir=\"false\" />\r\n      <change beforePath=\"$PROJECT_DIR$/target/classes/org/springframework/beans/factory/support/AbstractAutowireCapableBeanFactory.class\" beforeDir=\"false\" afterPath=\"$PROJECT_DIR$/target/classes/org/springframework/beans/factory/support/AbstractAutowireCapableBeanFactory.class\" afterDir=\"false\" />\r\n      <change beforePath=\"$PROJECT_DIR$/target/classes/org/springframework/beans/factory/support/DefaultListableBeanFactory.class\" beforeDir=\"false\" afterPath=\"$PROJECT_DIR$/target/classes/org/springframework/beans/factory/support/DefaultListableBeanFactory.class\" afterDir=\"false\" />\r\n      <change beforePath=\"$PROJECT_DIR$/target/classes/org/springframework/beans/factory/support/DefaultSingletonBeanRegistry.class\" beforeDir=\"false\" afterPath=\"$PROJECT_DIR$/target/classes/org/springframework/beans/factory/support/DefaultSingletonBeanRegistry.class\" afterDir=\"false\" />\r\n      <change beforePath=\"$PROJECT_DIR$/target/test-classes/org/springframework/test/ioc/InitAndDestoryMethodTest.class\" beforeDir=\"false\" afterPath=\"$PROJECT_DIR$/target/test-classes/org/springframework/test/ioc/InitAndDestoryMethodTest.class\" afterDir=\"false\" />\r\n    </list>\r\n    <option name=\"SHOW_DIALOG\" value=\"false\" />\r\n    <option name=\"HIGHLIGHT_CONFLICTS\" value=\"true\" />\r\n    <option name=\"HIGHLIGHT_NON_ACTIVE_CHANGELIST\" value=\"false\" />\r\n    <option name=\"LAST_RESOLUTION\" value=\"IGNORE\" />\r\n  </component>\r\n  <component name=\"FileTemplateManagerImpl\">\r\n    <option name=\"RECENT_TEMPLATES\">\r\n      <list>\r\n        <option value=\"Class\" />\r\n      </list>\r\n    </option>\r\n  </component>\r\n  <component name=\"Git.Settings\">\r\n    <option name=\"RECENT_GIT_ROOT_PATH\" value=\"$PROJECT_DIR$\" />\r\n  </component>\r\n  <component name=\"MarkdownSettingsMigration\">\r\n    <option name=\"stateVersion\" value=\"1\" />\r\n  </component>\r\n  <component name=\"MavenImportPreferences\">\r\n    <option name=\"generalSettings\">\r\n      <MavenGeneralSettings>\r\n        <option name=\"useMavenConfig\" value=\"true\" />\r\n      </MavenGeneralSettings>\r\n    </option>\r\n  </component>\r\n  <component name=\"ProjectId\" id=\"2arB47D0FVsJSWbVQanaHecbldc\" />\r\n  <component name=\"ProjectLevelVcsManager\" settingsEditedManually=\"true\" />\r\n  <component name=\"ProjectViewState\">\r\n    <option name=\"hideEmptyMiddlePackages\" value=\"true\" />\r\n    <option name=\"showLibraryContents\" value=\"true\" />\r\n  </component>\r\n  <component name=\"PropertiesComponent\"><![CDATA[{\r\n  \"keyToString\": {\r\n    \"RunOnceActivity.OpenProjectViewOnStart\": \"true\",\r\n    \"RunOnceActivity.ShowReadmeOnStart\": \"true\",\r\n    \"SHARE_PROJECT_CONFIGURATION_FILES\": \"true\",\r\n    \"WebServerToolWindowFactoryState\": \"false\",\r\n    \"last_opened_file_path\": \"E:/Maven/MiniSpring/src/test/resources\",\r\n    \"node.js.detected.package.eslint\": \"true\",\r\n    \"node.js.detected.package.tslint\": \"true\",\r\n    \"node.js.selected.package.eslint\": \"(autodetect)\",\r\n    \"node.js.selected.package.tslint\": \"(autodetect)\",\r\n    \"nodejs_package_manager_path\": \"npm\",\r\n    \"project.structure.last.edited\": \"Project\",\r\n    \"project.structure.proportion\": \"0.13967973\",\r\n    \"project.structure.side.proportion\": \"0.29089028\",\r\n    \"spring.configuration.checksum\": \"d41d8cd98f00b204e9800998ecf8427e\",\r\n    \"vue.rearranger.settings.migration\": \"true\"\r\n  }\r\n}]]></component>\r\n  <component name=\"RecentsManager\">\r\n    <key name=\"CopyFile.RECENT_KEYS\">\r\n      <recent name=\"E:\\Maven\\MiniSpring\\src\\test\\resources\" />\r\n      <recent name=\"E:\\Maven\\MiniSpring\\src\\test\\java\\org\\springframework\\test\\bean\" />\r\n      <recent name=\"E:\\Maven\\MiniSpring\\src\\test\\java\\org\\springframework\\test\\common\" />\r\n      <recent name=\"E:\\Maven\\MiniSpring\\src\\main\\java\\org\\springframework\\core\\convert\" />\r\n      <recent name=\"E:\\Maven\\MiniSpring\\src\\main\\java\\org\\springframework\\beans\\factory\\annotation\" />\r\n    </key>\r\n    <key name=\"CopyClassDialog.RECENTS_KEY\">\r\n      <recent name=\"org.springframework.beans.factory.support\" />\r\n      <recent name=\"org.springframework.context.support\" />\r\n      <recent name=\"org.springframework.aop.framework.autoproxy\" />\r\n      <recent name=\"org.springframework.test.common\" />\r\n      <recent name=\"org.springframework.test.ioc\" />\r\n    </key>\r\n  </component>\r\n  <component name=\"RunManager\" selected=\"JUnit.CircularReferenceWithProxyBeanTest.testCircularReference\">\r\n    <configuration name=\"CircularReferenceWithProxyBeanTest\" type=\"JUnit\" factoryName=\"JUnit\" temporary=\"true\" nameIsGenerated=\"true\">\r\n      <module name=\"MiniSpring\" />\r\n      <extension name=\"coverage\">\r\n        <pattern>\r\n          <option name=\"PATTERN\" value=\"org.springframework.test.ioc.*\" />\r\n          <option name=\"ENABLED\" value=\"true\" />\r\n        </pattern>\r\n      </extension>\r\n      <option name=\"PACKAGE_NAME\" value=\"org.springframework.test.ioc\" />\r\n      <option name=\"MAIN_CLASS_NAME\" value=\"org.springframework.test.ioc.CircularReferenceWithProxyBeanTest\" />\r\n      <option name=\"TEST_OBJECT\" value=\"class\" />\r\n      <method v=\"2\">\r\n        <option name=\"Make\" enabled=\"true\" />\r\n      </method>\r\n    </configuration>\r\n    <configuration name=\"CircularReferenceWithProxyBeanTest.testCircularReference\" type=\"JUnit\" factoryName=\"JUnit\" temporary=\"true\" nameIsGenerated=\"true\">\r\n      <module name=\"MiniSpring\" />\r\n      <extension name=\"coverage\">\r\n        <pattern>\r\n          <option name=\"PATTERN\" value=\"org.springframework.test.ioc.*\" />\r\n          <option name=\"ENABLED\" value=\"true\" />\r\n        </pattern>\r\n      </extension>\r\n      <option name=\"PACKAGE_NAME\" value=\"org.springframework.test.ioc\" />\r\n      <option name=\"MAIN_CLASS_NAME\" value=\"org.springframework.test.ioc.CircularReferenceWithProxyBeanTest\" />\r\n      <option name=\"METHOD_NAME\" value=\"testCircularReference\" />\r\n      <option name=\"TEST_OBJECT\" value=\"method\" />\r\n      <method v=\"2\">\r\n        <option name=\"Make\" enabled=\"true\" />\r\n      </method>\r\n    </configuration>\r\n    <configuration name=\"CircularReferenceWithoutProxyBeanTest.testCircularReference\" type=\"JUnit\" factoryName=\"JUnit\" temporary=\"true\" nameIsGenerated=\"true\">\r\n      <module name=\"MiniSpring\" />\r\n      <extension name=\"coverage\">\r\n        <pattern>\r\n          <option name=\"PATTERN\" value=\"org.springframework.test.ioc.*\" />\r\n          <option name=\"ENABLED\" value=\"true\" />\r\n        </pattern>\r\n      </extension>\r\n      <option name=\"PACKAGE_NAME\" value=\"org.springframework.test.ioc\" />\r\n      <option name=\"MAIN_CLASS_NAME\" value=\"org.springframework.test.ioc.CircularReferenceWithoutProxyBeanTest\" />\r\n      <option name=\"METHOD_NAME\" value=\"testCircularReference\" />\r\n      <option name=\"TEST_OBJECT\" value=\"method\" />\r\n      <method v=\"2\">\r\n        <option name=\"Make\" enabled=\"true\" />\r\n      </method>\r\n    </configuration>\r\n    <configuration name=\"TypeConversionFirstPartTest\" type=\"JUnit\" factoryName=\"JUnit\" temporary=\"true\" nameIsGenerated=\"true\">\r\n      <module name=\"MiniSpring\" />\r\n      <extension name=\"coverage\">\r\n        <pattern>\r\n          <option name=\"PATTERN\" value=\"org.springframework.test.ioc.*\" />\r\n          <option name=\"ENABLED\" value=\"true\" />\r\n        </pattern>\r\n      </extension>\r\n      <option name=\"PACKAGE_NAME\" value=\"org.springframework.test.ioc\" />\r\n      <option name=\"MAIN_CLASS_NAME\" value=\"org.springframework.test.ioc.TypeConversionFirstPartTest\" />\r\n      <option name=\"TEST_OBJECT\" value=\"class\" />\r\n      <method v=\"2\">\r\n        <option name=\"Make\" enabled=\"true\" />\r\n      </method>\r\n    </configuration>\r\n    <configuration name=\"TypeConversionSecondPartTest\" type=\"JUnit\" factoryName=\"JUnit\" temporary=\"true\" nameIsGenerated=\"true\">\r\n      <module name=\"MiniSpring\" />\r\n      <extension name=\"coverage\">\r\n        <pattern>\r\n          <option name=\"PATTERN\" value=\"org.springframework.test.ioc.*\" />\r\n          <option name=\"ENABLED\" value=\"true\" />\r\n        </pattern>\r\n      </extension>\r\n      <option name=\"PACKAGE_NAME\" value=\"org.springframework.test.ioc\" />\r\n      <option name=\"MAIN_CLASS_NAME\" value=\"org.springframework.test.ioc.TypeConversionSecondPartTest\" />\r\n      <option name=\"TEST_OBJECT\" value=\"class\" />\r\n      <method v=\"2\">\r\n        <option name=\"Make\" enabled=\"true\" />\r\n      </method>\r\n    </configuration>\r\n    <recent_temporary>\r\n      <list>\r\n        <item itemvalue=\"JUnit.CircularReferenceWithProxyBeanTest.testCircularReference\" />\r\n        <item itemvalue=\"JUnit.CircularReferenceWithoutProxyBeanTest.testCircularReference\" />\r\n        <item itemvalue=\"JUnit.CircularReferenceWithProxyBeanTest\" />\r\n        <item itemvalue=\"JUnit.TypeConversionSecondPartTest\" />\r\n        <item itemvalue=\"JUnit.TypeConversionFirstPartTest\" />\r\n      </list>\r\n    </recent_temporary>\r\n  </component>\r\n  <component name=\"SpellCheckerSettings\" RuntimeDictionaries=\"0\" Folders=\"0\" CustomDictionaries=\"0\" DefaultDictionary=\"application-level\" UseSingleDictionary=\"true\" transferred=\"true\" />\r\n  <component name=\"TaskManager\">\r\n    <task active=\"true\" id=\"Default\" summary=\"Default task\">\r\n      <changelist id=\"c167be1e-4aae-48b9-8eb6-885c9947af95\" name=\"Changes\" comment=\"\" />\r\n      <created>1705066625597</created>\r\n      <option name=\"number\" value=\"Default\" />\r\n      <option name=\"presentableId\" value=\"Default\" />\r\n      <updated>1705066625597</updated>\r\n      <workItem from=\"1705066626875\" duration=\"1447000\" />\r\n      <workItem from=\"1705144968636\" duration=\"6908000\" />\r\n      <workItem from=\"1705235758912\" duration=\"4309000\" />\r\n      <workItem from=\"1705414995593\" duration=\"949000\" />\r\n      <workItem from=\"1705673633564\" duration=\"2966000\" />\r\n      <workItem from=\"1705756051916\" duration=\"2448000\" />\r\n      <workItem from=\"1705844310654\" duration=\"3737000\" />\r\n      <workItem from=\"1705926955040\" duration=\"4576000\" />\r\n      <workItem from=\"1706018833586\" duration=\"2914000\" />\r\n      <workItem from=\"1706100716075\" duration=\"2938000\" />\r\n      <workItem from=\"1706241807036\" duration=\"5737000\" />\r\n      <workItem from=\"1706327180973\" duration=\"5914000\" />\r\n      <workItem from=\"1706447921908\" duration=\"3416000\" />\r\n      <workItem from=\"1706498468258\" duration=\"8029000\" />\r\n      <workItem from=\"1706587308931\" duration=\"4932000\" />\r\n    </task>\r\n    <servers />\r\n  </component>\r\n  <component name=\"TypeScriptGeneratedFilesManager\">\r\n    <option name=\"version\" value=\"3\" />\r\n  </component>\r\n  <component name=\"Vcs.Log.Tabs.Properties\">\r\n    <option name=\"TAB_STATES\">\r\n      <map>\r\n        <entry key=\"MAIN\">\r\n          <value>\r\n            <State>\r\n              <option name=\"FILTERS\">\r\n                <map>\r\n                  <entry key=\"branch\">\r\n                    <value>\r\n                      <list>\r\n                        <option value=\"circular-reference-with-proxy-bean\" />\r\n                      </list>\r\n                    </value>\r\n                  </entry>\r\n                </map>\r\n              </option>\r\n            </State>\r\n          </value>\r\n        </entry>\r\n      </map>\r\n    </option>\r\n    <option name=\"RECENT_FILTERS\">\r\n      <map>\r\n        <entry key=\"Branch\">\r\n          <value>\r\n            <list>\r\n              <RecentGroup>\r\n                <option name=\"FILTER_VALUES\">\r\n                  <option value=\"instantiation-strategy\" />\r\n                </option>\r\n              </RecentGroup>\r\n              <RecentGroup>\r\n                <option name=\"FILTER_VALUES\">\r\n                  <option value=\"bean-definition-and-bean-definition-registry\" />\r\n                </option>\r\n              </RecentGroup>\r\n            </list>\r\n          </value>\r\n        </entry>\r\n      </map>\r\n    </option>\r\n  </component>\r\n  <component name=\"XDebuggerManager\">\r\n    <breakpoint-manager>\r\n      <breakpoints>\r\n        <line-breakpoint enabled=\"true\" type=\"java-line\">\r\n          <url>file://$PROJECT_DIR$/src/test/java/org/springframework/test/common/CustomerBeanPostProcessor.java</url>\r\n          <line>13</line>\r\n          <option name=\"timeStamp\" value=\"3\" />\r\n        </line-breakpoint>\r\n        <line-breakpoint enabled=\"true\" type=\"java-line\">\r\n          <url>file://$PROJECT_DIR$/src/test/java/org/springframework/test/ioc/ApplicationContextTest.java</url>\r\n          <line>17</line>\r\n          <option name=\"timeStamp\" value=\"5\" />\r\n        </line-breakpoint>\r\n        <line-breakpoint enabled=\"true\" type=\"java-line\">\r\n          <url>file://$PROJECT_DIR$/src/main/java/org/springframework/beans/factory/support/AbstractBeanFactory.java</url>\r\n          <line>96</line>\r\n          <option name=\"timeStamp\" value=\"9\" />\r\n        </line-breakpoint>\r\n        <line-breakpoint enabled=\"true\" type=\"java-line\">\r\n          <url>file://$PROJECT_DIR$/src/main/java/org/springframework/context/support/AbstractApplicationContext.java</url>\r\n          <line>134</line>\r\n          <option name=\"timeStamp\" value=\"10\" />\r\n        </line-breakpoint>\r\n        <line-breakpoint enabled=\"true\" type=\"java-line\">\r\n          <url>file://$PROJECT_DIR$/src/main/java/org/springframework/context/support/AbstractApplicationContext.java</url>\r\n          <line>47</line>\r\n          <option name=\"timeStamp\" value=\"13\" />\r\n        </line-breakpoint>\r\n        <line-breakpoint enabled=\"true\" type=\"java-line\">\r\n          <url>file://$PROJECT_DIR$/src/test/java/org/springframework/test/ioc/CircularReferenceWithProxyBeanTest.java</url>\r\n          <line>17</line>\r\n          <option name=\"timeStamp\" value=\"14\" />\r\n        </line-breakpoint>\r\n      </breakpoints>\r\n    </breakpoint-manager>\r\n  </component>\r\n</project>
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/.idea/workspace.xml b/.idea/workspace.xml
--- a/.idea/workspace.xml	(revision e538e3f03537ab99700d03f10dcf1de20bda96a1)
+++ b/.idea/workspace.xml	(date 1706605460823)
@@ -5,23 +5,9 @@
   </component>
   <component name="ChangeListManager">
     <list default="true" id="c167be1e-4aae-48b9-8eb6-885c9947af95" name="Changes" comment="实现最简单的IOC容器">
-      <change afterPath="$PROJECT_DIR$/src/main/java/org/springframework/beans/factory/ObjectFactory.java" afterDir="false" />
-      <change afterPath="$PROJECT_DIR$/src/test/java/org/springframework/test/common/ABeforeAdvice.java" afterDir="false" />
-      <change afterPath="$PROJECT_DIR$/src/test/java/org/springframework/test/ioc/CircularReferenceWithProxyBeanTest.java" afterDir="false" />
-      <change afterPath="$PROJECT_DIR$/src/test/resources/circular-reference-with-proxy-bean.xml" afterDir="false" />
       <change beforePath="$PROJECT_DIR$/.idea/workspace.xml" beforeDir="false" afterPath="$PROJECT_DIR$/.idea/workspace.xml" afterDir="false" />
+      <change beforePath="$PROJECT_DIR$/src/main/java/org/springframework/aop/AdvisedSupport.java" beforeDir="false" afterPath="$PROJECT_DIR$/src/main/java/org/springframework/aop/AdvisedSupport.java" afterDir="false" />
       <change beforePath="$PROJECT_DIR$/src/main/java/org/springframework/aop/framework/autoproxy/DefaultAdvisorAutoProxyCreator.java" beforeDir="false" afterPath="$PROJECT_DIR$/src/main/java/org/springframework/aop/framework/autoproxy/DefaultAdvisorAutoProxyCreator.java" afterDir="false" />
-      <change beforePath="$PROJECT_DIR$/src/main/java/org/springframework/beans/factory/config/InstantiationAwareBeanPostProcessor.java" beforeDir="false" afterPath="$PROJECT_DIR$/src/main/java/org/springframework/beans/factory/config/InstantiationAwareBeanPostProcessor.java" afterDir="false" />
-      <change beforePath="$PROJECT_DIR$/src/main/java/org/springframework/beans/factory/support/AbstractAutowireCapableBeanFactory.java" beforeDir="false" afterPath="$PROJECT_DIR$/src/main/java/org/springframework/beans/factory/support/AbstractAutowireCapableBeanFactory.java" afterDir="false" />
-      <change beforePath="$PROJECT_DIR$/src/main/java/org/springframework/beans/factory/support/DefaultListableBeanFactory.java" beforeDir="false" afterPath="$PROJECT_DIR$/src/main/java/org/springframework/beans/factory/support/DefaultListableBeanFactory.java" afterDir="false" />
-      <change beforePath="$PROJECT_DIR$/src/main/java/org/springframework/beans/factory/support/DefaultSingletonBeanRegistry.java" beforeDir="false" afterPath="$PROJECT_DIR$/src/main/java/org/springframework/beans/factory/support/DefaultSingletonBeanRegistry.java" afterDir="false" />
-      <change beforePath="$PROJECT_DIR$/src/test/java/org/springframework/test/ioc/InitAndDestoryMethodTest.java" beforeDir="false" afterPath="$PROJECT_DIR$/src/test/java/org/springframework/test/ioc/InitAndDestoryMethodTest.java" afterDir="false" />
-      <change beforePath="$PROJECT_DIR$/target/classes/org/springframework/aop/framework/autoproxy/DefaultAdvisorAutoProxyCreator.class" beforeDir="false" afterPath="$PROJECT_DIR$/target/classes/org/springframework/aop/framework/autoproxy/DefaultAdvisorAutoProxyCreator.class" afterDir="false" />
-      <change beforePath="$PROJECT_DIR$/target/classes/org/springframework/beans/factory/config/InstantiationAwareBeanPostProcessor.class" beforeDir="false" afterPath="$PROJECT_DIR$/target/classes/org/springframework/beans/factory/config/InstantiationAwareBeanPostProcessor.class" afterDir="false" />
-      <change beforePath="$PROJECT_DIR$/target/classes/org/springframework/beans/factory/support/AbstractAutowireCapableBeanFactory.class" beforeDir="false" afterPath="$PROJECT_DIR$/target/classes/org/springframework/beans/factory/support/AbstractAutowireCapableBeanFactory.class" afterDir="false" />
-      <change beforePath="$PROJECT_DIR$/target/classes/org/springframework/beans/factory/support/DefaultListableBeanFactory.class" beforeDir="false" afterPath="$PROJECT_DIR$/target/classes/org/springframework/beans/factory/support/DefaultListableBeanFactory.class" afterDir="false" />
-      <change beforePath="$PROJECT_DIR$/target/classes/org/springframework/beans/factory/support/DefaultSingletonBeanRegistry.class" beforeDir="false" afterPath="$PROJECT_DIR$/target/classes/org/springframework/beans/factory/support/DefaultSingletonBeanRegistry.class" afterDir="false" />
-      <change beforePath="$PROJECT_DIR$/target/test-classes/org/springframework/test/ioc/InitAndDestoryMethodTest.class" beforeDir="false" afterPath="$PROJECT_DIR$/target/test-classes/org/springframework/test/ioc/InitAndDestoryMethodTest.class" afterDir="false" />
     </list>
     <option name="SHOW_DIALOG" value="false" />
     <option name="HIGHLIGHT_CONFLICTS" value="true" />
@@ -37,6 +23,7 @@
   </component>
   <component name="Git.Settings">
     <option name="RECENT_GIT_ROOT_PATH" value="$PROJECT_DIR$" />
+    <option name="RESET_MODE" value="SOFT" />
   </component>
   <component name="MarkdownSettingsMigration">
     <option name="stateVersion" value="1" />
@@ -82,11 +69,11 @@
       <recent name="E:\Maven\MiniSpring\src\main\java\org\springframework\beans\factory\annotation" />
     </key>
     <key name="CopyClassDialog.RECENTS_KEY">
+      <recent name="org.springframework.aop" />
+      <recent name="org.springframework.aop.framework" />
+      <recent name="org.springframework.aop.framework.autoproxy" />
       <recent name="org.springframework.beans.factory.support" />
       <recent name="org.springframework.context.support" />
-      <recent name="org.springframework.aop.framework.autoproxy" />
-      <recent name="org.springframework.test.common" />
-      <recent name="org.springframework.test.ioc" />
     </key>
   </component>
   <component name="RunManager" selected="JUnit.CircularReferenceWithProxyBeanTest.testCircularReference">
@@ -199,7 +186,7 @@
       <workItem from="1706327180973" duration="5914000" />
       <workItem from="1706447921908" duration="3416000" />
       <workItem from="1706498468258" duration="8029000" />
-      <workItem from="1706587308931" duration="4932000" />
+      <workItem from="1706587308931" duration="7456000" />
     </task>
     <servers />
   </component>
Index: src/main/java/org/springframework/aop/AdvisedSupport.java
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>package org.springframework.aop;\r\n\r\nimport org.aopalliance.intercept.MethodInterceptor;\r\n\r\n/**\r\n * @author derekyi\r\n * @date 2020/12/6\r\n */\r\npublic class AdvisedSupport {\r\n\r\n\t//是否使用cglib代理\r\n\tprivate boolean proxyTargetClass = true;\r\n\r\n\tprivate TargetSource targetSource;\r\n\r\n\tprivate MethodInterceptor methodInterceptor;\r\n\r\n\tprivate MethodMatcher methodMatcher;\r\n\r\n\tpublic boolean isProxyTargetClass() {\r\n\t\treturn proxyTargetClass;\r\n\t}\r\n\r\n\tpublic void setProxyTargetClass(boolean proxyTargetClass) {\r\n\t\tthis.proxyTargetClass = proxyTargetClass;\r\n\t}\r\n\r\n\tpublic TargetSource getTargetSource() {\r\n\t\treturn targetSource;\r\n\t}\r\n\r\n\tpublic void setTargetSource(TargetSource targetSource) {\r\n\t\tthis.targetSource = targetSource;\r\n\t}\r\n\r\n\tpublic MethodInterceptor getMethodInterceptor() {\r\n\t\treturn methodInterceptor;\r\n\t}\r\n\r\n\tpublic void setMethodInterceptor(MethodInterceptor methodInterceptor) {\r\n\t\tthis.methodInterceptor = methodInterceptor;\r\n\t}\r\n\r\n\tpublic MethodMatcher getMethodMatcher() {\r\n\t\treturn methodMatcher;\r\n\t}\r\n\r\n\tpublic void setMethodMatcher(MethodMatcher methodMatcher) {\r\n\t\tthis.methodMatcher = methodMatcher;\r\n\t}\r\n}\r\n
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/src/main/java/org/springframework/aop/AdvisedSupport.java b/src/main/java/org/springframework/aop/AdvisedSupport.java
--- a/src/main/java/org/springframework/aop/AdvisedSupport.java	(revision e538e3f03537ab99700d03f10dcf1de20bda96a1)
+++ b/src/main/java/org/springframework/aop/AdvisedSupport.java	(date 1706603700551)
@@ -2,10 +2,7 @@
 
 import org.aopalliance.intercept.MethodInterceptor;
 
-/**
- * @author derekyi
- * @date 2020/12/6
- */
+ 
 public class AdvisedSupport {
 
 	//是否使用cglib代理
Index: src/main/java/org/springframework/aop/framework/autoproxy/DefaultAdvisorAutoProxyCreator.java
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>package org.springframework.aop.framework.autoproxy;\r\n\r\nimport org.aopalliance.aop.Advice;\r\nimport org.aopalliance.intercept.MethodInterceptor;\r\nimport org.springframework.aop.*;\r\nimport org.springframework.aop.aspectj.AspectJExpressionPointcutAdvisor;\r\nimport org.springframework.aop.framework.ProxyFactory;\r\nimport org.springframework.beans.BeansException;\r\nimport org.springframework.beans.PropertyValues;\r\nimport org.springframework.beans.factory.BeanFactory;\r\nimport org.springframework.beans.factory.BeanFactoryAware;\r\nimport org.springframework.beans.factory.config.InstantiationAwareBeanPostProcessor;\r\nimport org.springframework.beans.factory.support.DefaultListableBeanFactory;\r\n\r\nimport java.util.Collection;\r\nimport java.util.HashSet;\r\nimport java.util.Set;\r\n\r\n/**\r\n * @author derekyi\r\n * @date 2020/12/6\r\n */\r\npublic class DefaultAdvisorAutoProxyCreator implements InstantiationAwareBeanPostProcessor, BeanFactoryAware {\r\n\r\n\tprivate DefaultListableBeanFactory beanFactory;\r\n\r\n\tprivate Set<Object> earlyProxyReferences = new HashSet<>();\r\n\r\n\t@Override\r\n\tpublic Object postProcessAfterInitialization(Object bean, String beanName) throws BeansException {\r\n\t\tif (!earlyProxyReferences.contains(beanName)) {\r\n\t\t\treturn wrapIfNecessary(bean, beanName);\r\n\t\t}\r\n\r\n\t\treturn bean;\r\n\t}\r\n\r\n\t@Override\r\n\tpublic Object getEarlyBeanReference(Object bean, String beanName) throws BeansException {\r\n\t\tearlyProxyReferences.add(beanName);\r\n\t\treturn wrapIfNecessary(bean, beanName);\r\n\t}\r\n\r\n\tprotected Object wrapIfNecessary(Object bean, String beanName) {\r\n\t\t//避免死循环\r\n\t\tif (isInfrastructureClass(bean.getClass())) {\r\n\t\t\treturn bean;\r\n\t\t}\r\n\r\n\t\tCollection<AspectJExpressionPointcutAdvisor> advisors = beanFactory.getBeansOfType(AspectJExpressionPointcutAdvisor.class).values();\r\n\t\ttry {\r\n\t\t\tfor (AspectJExpressionPointcutAdvisor advisor : advisors) {\r\n\t\t\t\tClassFilter classFilter = advisor.getPointcut().getClassFilter();\r\n\t\t\t\t//如果与切点表达式匹配的类，就创建代理类\r\n\t\t\t\tif (classFilter.matches(bean.getClass())) {\r\n\t\t\t\t\tAdvisedSupport advisedSupport = new AdvisedSupport();\r\n\t\t\t\t\tTargetSource targetSource = new TargetSource(bean);\r\n\r\n\t\t\t\t\tadvisedSupport.setTargetSource(targetSource);\r\n\t\t\t\t\tadvisedSupport.setMethodInterceptor((MethodInterceptor) advisor.getAdvice());\r\n\t\t\t\t\tadvisedSupport.setMethodMatcher(advisor.getPointcut().getMethodMatcher());\r\n\r\n\t\t\t\t\t//返回代理对象\r\n\t\t\t\t\treturn new ProxyFactory(advisedSupport).getProxy();\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t} catch (Exception ex) {\r\n\t\t\tthrow new BeansException(\"Error create proxy bean for: \" + beanName, ex);\r\n\t\t}\r\n\t\treturn bean;\r\n\t}\r\n\r\n\tprivate boolean isInfrastructureClass(Class<?> beanClass) {\r\n\t\treturn Advice.class.isAssignableFrom(beanClass)\r\n\t\t\t\t|| Pointcut.class.isAssignableFrom(beanClass)\r\n\t\t\t\t|| Advisor.class.isAssignableFrom(beanClass);\r\n\t}\r\n\r\n\t@Override\r\n\tpublic void setBeanFactory(BeanFactory beanFactory) throws BeansException {\r\n\t\tthis.beanFactory = (DefaultListableBeanFactory) beanFactory;\r\n\t}\r\n\r\n\t@Override\r\n\tpublic Object postProcessBeforeInstantiation(Class<?> beanClass, String beanName) throws BeansException {\r\n\t\treturn null;\r\n\t}\r\n\r\n\t@Override\r\n\tpublic boolean postProcessAfterInstantiation(Object bean, String beanName) throws BeansException {\r\n\t\treturn true;\r\n\t}\r\n\r\n\t@Override\r\n\tpublic Object postProcessBeforeInitialization(Object bean, String beanName) throws BeansException {\r\n\t\treturn bean;\r\n\t}\r\n\r\n\t@Override\r\n\tpublic PropertyValues postProcessPropertyValues(PropertyValues pvs, Object bean, String beanName) throws BeansException {\r\n\t\treturn pvs;\r\n\t}\r\n}\r\n
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/src/main/java/org/springframework/aop/framework/autoproxy/DefaultAdvisorAutoProxyCreator.java b/src/main/java/org/springframework/aop/framework/autoproxy/DefaultAdvisorAutoProxyCreator.java
--- a/src/main/java/org/springframework/aop/framework/autoproxy/DefaultAdvisorAutoProxyCreator.java	(revision e538e3f03537ab99700d03f10dcf1de20bda96a1)
+++ b/src/main/java/org/springframework/aop/framework/autoproxy/DefaultAdvisorAutoProxyCreator.java	(date 1706604258030)
@@ -16,10 +16,7 @@
 import java.util.HashSet;
 import java.util.Set;
 
-/**
- * @author derekyi
- * @date 2020/12/6
- */
+
 public class DefaultAdvisorAutoProxyCreator implements InstantiationAwareBeanPostProcessor, BeanFactoryAware {
 
 	private DefaultListableBeanFactory beanFactory;
